(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["oiojs"]=t():e["oiojs"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({f6fd:function(e,t){(function(e){var t="currentScript",r=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(n){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(e in r)if(r[e].src==t||"interactive"==r[e].readyState)return r[e];return null}}})})(document)},fb15:function(e,t,r){"use strict";var n;(r.r(t),"undefined"!==typeof window)&&(r("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(r.p=n[1]));var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},o(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=Object.prototype.toString;function u(e){return"[object Array]"===a.call(e)}function s(e){return"[object ArrayBuffer]"===a.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function f(e){return"string"===typeof e}function p(e){return"number"===typeof e}function d(e){return"undefined"===typeof e}function l(e){return null!==e&&"object"===typeof e}function h(e){return"[object Object]"===a.call(e)}function m(e){return"[object Date]"===a.call(e)}function y(e){return"[object File]"===a.call(e)}function v(e){return"[object Blob]"===a.call(e)}function g(e){return"[object Function]"===a.call(e)}function w(e){return l(e)&&g(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function x(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function R(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function O(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function j(e,t){if(null!==e&&!d(e))if(l(e)||(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};function n(e,t){l(r[t])&&h(e)?r[t]=q(r[t],e):r[t]=e}for(var o=0,i=e.length;o<i;o++)j(arguments[o],n);return r}function T(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};function n(e,t){h(r[t])&&h(e)?r[t]=T(r[t],e):h(e)?r[t]=T({},e):r[t]=e}for(var o=0,i=e.length;o<i;o++)j(arguments[o],n);return r}function P(e,t,r,n){return e.code=t,e.request=r,e.response=n,e.toJSON=function(){var e=this;return{message:e.message,name:e.name,description:e.description,number:e.number,fileName:e.fileName,lineNumber:e.lineNumber,columnNumber:e.columnNumber,stack:e.stack,request:e.request,code:e.code}},e}function N(e,t,r,n){void 0===t&&(t="");var o=new Error(e);return P(o,t,r,n)}function E(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(b(t))n=t.toString();else{var o=[];j(t,function(e,t){null===e||d(e)||(u(e)?t+="[]":e=[e],j(e,function(e){m(e)?e=e.toISOString():l(e)&&(e=JSON.stringify(e)),o.push(E(t)+"="+E(e))}))}),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}var S=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];function M(e){var t,r,n,o={};return e?(j(e.split("\n"),function(e){n=e.indexOf(":"),t=O(e.substr(0,n)).toLowerCase(),r=O(e.substr(n+1)),t&&(o[t]&&S.indexOf(t)>=0||(o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r))}),o):o}var A=x()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=f(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}(),_=x()?function(){return{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),p(r)&&a.push("expires="+new Date(r).toUTCString()),f(n)&&a.push("path="+n),f(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function D(e){return new Promise(function(t,r){var n=e.data,o=e.headers;c(n)&&delete o["Content-Type"];var i=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",u=e.auth.password||"";o.Authorization="Basic "+btoa(a+":"+u)}if(i.open(e.method.toUpperCase(),C(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i.onreadystatechange=function(){if(i&&e&&4===i.readyState&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in i?M(i.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?i.response:i.responseText,o={data:n,status:i.status,statusText:i.statusText,headers:r,request:e};t(o),i=null}},i.onabort=function(){i&&(r(N("Request aborted","XHR_ABORTED",e)),i=null)},i.onerror=function(){r(N("XMLHttpRequest error","XHR_ERROR",e)),i=null},i.ontimeout=function(){r(N("timeout of "+e.timeout+"ms exceeded","ECONNABORTED",e)),i=null},x()){var s=e.withCredentials||A(e.url),f=s&&e.xsrfCookieName?_.read(e.xsrfCookieName):void 0;f&&e.xsrfHeaderName&&(o[e.xsrfHeaderName]=f)}if("setRequestHeader"in i&&j(o,function(e,t){!d(n)&&null!==n||"content-type"!==t.toLowerCase()?i.setRequestHeader(t,e):delete o[t]}),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(p){if("json"!==e.responseType)throw p}g(e.onDownloadProgress)&&e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),g(e.onUploadProgress)&&i.upload&&e.onUploadProgress&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken(function(){i&&(i.abort(),i=null)}),void 0===n&&(n=null),i.send(n)})}var H,$,U={url:"",method:"get",headers:{"Content-Type":"",Accept:"application/json, text/plain, */*"},timeout:0,withCredentials:!1,responseType:"json",xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},k=U,B={request:function(e){f(e)?(e=arguments[1]||{},e.url=arguments[0]):e=e||{};var t=q(k,e);t.headers||(t.headers={});var r=!(c(t.data)||s(t.data)||w(t.data)||y(t.data)||v(t.data));return R(t.data)&&(t.data=t.buffer),b(t.data)&&(t.headers["Content-Type"]||(t.headers["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8"),t.data&&(t.data=t.data.toString())),r&&l(t.data)&&(t.headers["Content-Type"]||(t.headers["Content-Type"]="application/json;charset=utf-8"),t.data=JSON.stringify(t.data)),D(t).then(function(e){if(f(e.data))try{e.data=JSON.parse(e.data)}catch(t){}return e})}};(function(e){e["Delete"]="delete",e["Get"]="get",e["Head"]="head",e["Options"]="options"})(H||(H={})),function(e){e["Post"]="post",e["Put"]="put",e["Patch"]="patch"}($||($={})),j([H.Delete,H.Get,H.Head,H.Options],function(e){B[e]=function(t,r){return this.request(q(r||{},{method:e,url:t}))}}),j([$.Post,$.Put,$.Patch],function(e){B[e]=function(t,r,n){return void 0===r&&(r={}),this.request(q(n||{},{method:e,url:t,data:r}))}});var X=B,F={data:null,status:0,statusText:"",headers:{},request:null},L=F;function I(e){if(!Array.isArray(e))throw new TypeError("Middleware stack must be an array!");for(var t=0,r=e;t<r.length;t++){var n=r[t];if("function"!==typeof n)throw new TypeError("Middleware must be composed of functions!")}return function(t,r){var n=-1;return o(0);function o(i){if(i<=n)return Promise.reject(new Error("next() called multiple times"));n=i;var a=e[i];if(i===e.length&&(a=r),!a)return Promise.resolve();try{return Promise.resolve(a(t,o.bind(null,i+1)))}catch(u){return Promise.reject(u)}}}}var z=function(){function e(e){void 0===e&&(e=""),this.scope="",this.scope=e?e+":":""}return e.prototype.emit=function(t){for(var r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this.scope+t;e.EventMap[i]&&e.EventMap[i].forEach(function(e){e.apply(r,n)})},e.prototype.on=function(t,r){var n=this.scope+t;g(r)&&(e.EventMap[n]||(e.EventMap[n]=[]),e.EventMap[n].push(r))},e.prototype.off=function(t){delete e.EventMap[this.scope+t]},e.EventMap={},e}(),J=z,G=function(){function e(t,r,n){void 0===r&&(r={}),this.$data={},this.extend={},this.xhr=null,this.middleware=[],this.ignoreMiddlewareFunctionNames=[],this.createApiError=N,this.$data=q(this.$data,r),n&&(this.extend=n,n.xhr&&(e.XHR=this.xhr=n.xhr)),this.request=T(e.newReq(),t||{}),this.response=e.newRes()}return e.newReq=function(){return T({},e.$Request)},e.newRes=function(){return T({},e.$Response)},e.prototype.setIgnoreMiddleware=function(e){return this.ignoreMiddlewareFunctionNames=e,this},e.prototype.assertIgnoreMiddleware=function(e){return this.ignoreMiddlewareFunctionNames.indexOf(e)>-1},e.prototype.use=function(e){this.middleware.push(e)},e.prototype.run=function(e){var t=this,r=this.middleware.filter(function(e){return!t.assertIgnoreMiddleware(e.name)}),n=I([function(e,t){return t().then(function(){return e.getRes()})}].concat(r));return n(this,e||function(e,t){var r=e.getReq();return e.xhr&&e.xhr.request?e.xhr.request(r).then(function(t){return e.setRes(t)}):Promise.reject(N("context`xhr no found","CONTEXT_XHR_NOT_FOUND",r))})},e.prototype.newCtx=function(){var t=Object.create(this);return t.$data={},t.request={},t.response=e.newRes(),t},e.prototype.setCtxData=function(e){return this.$data=q(this.$data,e),this},e.prototype.getCtxData=function(){return this.$data},e.prototype.setReq=function(e){return this.request=T(this.request||{},e),this},e.prototype.getReq=function(){var e=[];function t(r){var n=Object.getPrototypeOf(r);n&&n.request&&(e.push(n.request),t(n))}return t(this),T.apply(void 0,[{}].concat(e.reverse(),[this.request]))},e.prototype.setRes=function(e){return this.response=q(this.response,e),this},e.prototype.getRes=function(){return T({},this.response)},e.prototype.setUrl=function(e){return this.request.url=e,this},e.prototype.setMethod=function(e){return this.request.method=e,this},e.prototype.setData=function(e){return this.request.data=e,this},e.prototype.setParams=function(e){return this.request.params=e,this},e.prototype.setHeaders=function(e){return this.request.headers=q(this.request.headers||{},e),this},e.XHR=null,e.Event=J,e.$Request=k,e.$Response=L,e}(),K=G,V=function(e){function t(t,r,n){return e.call(this,t||{},r||{},q({xhr:X},n||{}))||this}return i(t,e),t}(K),Q=V;t["default"]=Q}})["default"]});
//# sourceMappingURL=oiojs.umd.min.js.map